# ==========================================
# DUAL-DATABASE ARCHITECTURE CONFIGURATION
# ==========================================
# PostgreSQL: Global DB + AI-NPC Tables
# MySQL: Game World Databases
# ==========================================

# ==========================================
# PostgreSQL Configuration (Global DB + AI-NPC)
# ==========================================
# Used for:
#   - User accounts & authentication
#   - Game server registry
#   - AI-NPC system (ai_players, ai_configs, etc.)
#   - Global configurations

DATABASE_URL=postgresql://postgres:secure_postgres_password@postgres:5432/travian_global

PGHOST=postgres
PGPORT=5432
PGUSER=postgres
PGPASSWORD=secure_postgres_password
PGDATABASE=travian_global

# ==========================================
# MySQL Configuration (Game World Databases)
# ==========================================
# Used for:
#   - Game world data (villages, alliances, marketplace)
#   - Per-world player data
#   - Combat reports, messages, etc.

MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_ROOT_PASSWORD=secure_root_password
MYSQL_USER=travian_user
MYSQL_PASSWORD=secure_user_password

# Game World Databases (auto-created):
#   - travian_global (global game settings)
#   - travian_testworld (test world 100x speed)
#   - travian_demo (demo world 5x speed)

# ==========================================
# Redis Configuration (Caching & Sessions)
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=secure_redis_password

# ==========================================
# Email Configuration (SMTP)
# ==========================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=noreply@yourdomain.com
SMTP_PASSWORD=secure_smtp_password
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=Travian Game Server

# Alternative: SendInBlue API
SENDINBLUE_API_KEY=your_sendinblue_api_key_here

# ==========================================
# Application Configuration
# ==========================================
APP_ENV=production
APP_DEBUG=false
APP_URL=https://yourdomain.com

# Session Configuration
SESSION_DRIVER=redis
SESSION_LIFETIME=360

# ==========================================
# Security Configuration
# ==========================================
# reCAPTCHA v2
RECAPTCHA_PUBLIC_KEY=your_recaptcha_public_key
RECAPTCHA_PRIVATE_KEY=your_recaptcha_private_key

# JWT Secret (for API authentication)
JWT_SECRET=your_random_jwt_secret_key_here

# ==========================================
# Monitoring & Logging
# ==========================================
LOG_LEVEL=info
LOG_CHANNEL=stack

# Prometheus
PROMETHEUS_ENABLED=true

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=secure_grafana_password

# ==========================================
# Performance Tuning
# ==========================================
# PHP-FPM
PHP_FPM_MAX_CHILDREN=50
PHP_FPM_START_SERVERS=10
PHP_FPM_MIN_SPARE_SERVERS=5
PHP_FPM_MAX_SPARE_SERVERS=35

# Nginx
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# ==========================================
# Backup Configuration
# ==========================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# ==========================================
# Game Configuration
# ==========================================
# Default game speed multiplier
DEFAULT_GAME_SPEED=1
DEFAULT_ROUND_LENGTH=365

# Auto-reinstall settings
AUTO_REINSTALL=false
AUTO_REINSTALL_START_AFTER=86400

# ==========================================
# Development Settings (Set to false in production)
# ==========================================
DEV_MODE=false
SQL_DEBUG=false
API_DEBUG=false
